void MarketDataProcessor::handleOrderData(const TdfMsgData& data)
//std::cout << "handle0rderData : new order." << std::endl;
const TDF_MSG& msg = data.msg;
if (msg.pAppHead == nullptr II msg.pData == nullptr)
std::cerr << "ORDER data is null" << std::endl;return;
const TDF_APP_HEAD* pAppHead = msg.pAppHead;TDF_ORDER* pOrders = static_cast<TDF_ORDER*>(msg.pData);int itemCount = pAppHead->nItemCount;
1std::cout <<ORDER Data (count::" << itemCount << ") =====" << std::endl;for (int i = 0; i < itemCount; ++i
const TDF_0RDER& order = pOrders[i];
//std::cout << "staring process order<< order.szWindCode << std::endl;
StockDataManagerFactory:: getInstance().getStockManager (order.szWindCode) ->processOrder (order);


void MarketDataProcessor::handleTransactionData (const TdfMsgData& data)
//std::cout << "handleTransactionData : new transaction." << std::endl;const TDF_MSG& msg = data.msg;
if (msg.pAppHead == nullptr II msg.pData == nullptr)
std::cerr << "TRANSACTION data is null" << std::endl;return;
const TDF_APP_HEAD* pAppHead = msg.pAppHead;
TDF_TRANSACTION* pTrans = static_cast<TDF_TRANSACTION*> (msg.pData);
int itemCount = pAppHead->nItemCount;
1TRANSACTION Data (count: " << itemCount << ") =====" << std::endl;std::cout <<for (int i = 0;i < itemCount; ++i)
const TDF_TRANSACTION& trans = pTrans[i];
//std::cout <<"staring process trans< trans.szWindCode << std::endl;
StockDataManagerFactory::getInstance(). getStockManager(trans.szWindCode) ->processTransaction(trans);
 
void  StockDataManager::processTransaction(const TDF_TRANSACTION&
trans)
std::lock_guard<std::mutex> lock(m_mutex)

int64_t  m_commandState = StockDataManagerFactory: : getInstance(). getStockManager(trans.szWindCode->get_command_state(;